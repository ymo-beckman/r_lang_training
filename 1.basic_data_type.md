# Basic

## Basic data type
- double
  - 123
  - 1.23e10
- logical
  - TRUE
  - FALSE
- character
  - 'hello world!'

### string operation
```
letters

letters[1:6]

paste(1, 2, sep='_')
paste(list(1, 2), collapse="_")
paste(c(1, 2), collapse="_")

paste(c("hello", "world"), collapse=" ")

paste(letters[1:6], 1:6, sep="_", collapse=", ")

nchar("hello world!")

toupper("hello")
tolower("HELLO")

substring("123456", 3, 5)
```
string <-> numeric
```
as.numeric("12")
as.character(12.34)
```

length
```
nchar("中文", type="bytes")
nchar("中文", type="char")
```

## Object data type
- vector
- list
- matrix
- array
- factor
- data.frame


vector, matrix, array hold basic data type
vector - 1 dimension
matrix - 2 dimensions
array  - multiply dimensions

list can hold object

### vector

```
# assgin
a <- c(1, 2, 3, 4)

# get value
a[2:3]
a[c(1, 4)]
a[c(-1, -3)]

# set value
a[2] <- 1
a[c(1, 4)] <- c(6, 5)

# calculate
c(1.1, 2.2, 3.3, 4.4) - 0.2
c(11, 12, 13) > 12
all(c(TRUE, TRUE, TRUE))
all(c(TRUE, FALSE, TRUE))
any(c(TRUE, FALSE, FALSE))
any(c(FALSE, FALSE, FALSE))

# sorting
a <- c(5, 2, 7, 4, 3)
sort(a)
order(a)
a[order(a)]

# stats
sum(a)
# 均值
mean(a)
# 方差
var(a)
# 标准差
sd(a)

max(a)
min(a)
range(a)


# generate vector
c(1, 4, 5)
1:5
seq(1, 9, 2)
seq(1, 100, length.out=31)
rep(0, 5)
```


### matrix
```
v1 <- c(1, 2, 3, 4, 5, 6)
matrix(v1, 2, 3)
matrix(v1, 2, 3, byrow=TRUE)

matrix(c(1, 3, 2, 4), 2, 2)
matrix(c(1, 2, 3, 4), 2, 2, byrow=TRUE)


m1 <- matrix(v1, 2, 3)
colnames(m1) <- c('x', 'y', 'z')
rownames(m1) <- c('a', 'b')

# get values
a <- matrix(1:16, 4, 4, byrow=TRUE)
a[1, 2]
a[2, ]
a[, 2]
a[c(1, 3),]
a[2:3, 3:4]

# calculate

m1 <- matrix(1:4, 2, 2)
m2 <- matrix(10:13, 2, 2)
m1 + m2
m2 - m1
m1 * m2
m1 / m2

m1 <- matrix(c(1, 2), 1, 2)
m2 <- matrix(c(3, 4), 2, 1)
m1 %*% m2
# [1 2]. |3| = 1.3 + 2.4 = 11
#        |4|

matrix(c(1, 2, 3, 4), 2, 2) %*% matrix(c(1, 0, 0, 1), 2, 2)

# apply
a <- matrix(c(1, 3, 2, 4), 2, 2)
# sum by row
apply(a, 1, sum)
# sum by column
apply(a, 2, sum)
```


### array
```
array(1:27, dim=c(3,3,3))
a <- array(1:27, dim=c(3,3,3), dimnames=list(c('row1', 'row2', 'row3'), c('col1', 'col2', 'col3'), c('mat1', 'mat2', 'mat3')))

a[1,3,1]
a[3,,2]

a[,,1] + a[,,3]

apply(a, 1, sum)
apply(a, 2, sum)
apply(a, 3, sum)

apply(arr, c(2, 3), sum)
apply(arr, c(1, 3), sum)

# array and matrix
is.matrix(array(1:4, dim=c(2, 2)))
```

### list (similar to ordered hash table)
```
l1 <- list('foo', 'bar', c(1, 2, 3), 55.5, FALSE)
names(l1) <- c('first_name', 'last_name', 'data', 'val', 'valid')

# get value
l1[3]
l1[[3]]
l1$data

# set value
l1[4] <- NULL
l1[3] <- c(2, 2)


# merge list
c(list(1, 2), list('foo', 'bar'))

# list and vector
is.vector(list(1, 2))

list(1:5)
unlist(list(1:5))
```

### data.frame (database table)
```
table <- data.frame(name= c('tom', 'jerry'), type=c(1, 2), age=c(10, 20), big=c(TRUE, FALSE))

summary(table)

table$name
data.frame(table$type, table$age)

# col
table[1]
table[1:2]

# row
table[1,]
table[1:2,]

table[c(1, 2), c(1, 4)]
table[, c(2:4)]

table$speed <- c(100, 200)

# generate data.frame by vectors
v1 <- c('hello', 'world', '!')
v2 <- c(1, 2, 3)
v3 <- c(TRUE, FALSE, TRUE)
cbind(v1, v2, v3)


# merge data.frame
t1 <- data.frame(name = c('a', 'b', 'c'), age=c(31, 35, 29))
t2 <- data.frame(name = c('e', 'f', 'g'), age=c(12, 23, 75))
rbind(t1, t2)
```

### factor (enum | dimension)
```
x <- c('win', 'loss')
r <- factor(x)

is.factor(r)

x <- c('win', 'loss', 'win', 'win', 'loss', levels=c('win', 'loss'))
rr <- factor(x)
```