# Create s3 object

Use library 'pryr' to understand object type
```
# install pryr

install.packages('pryr')

library('pryr')
```


## Create a s3 object via variable
```
x <- 1
attr(x, 'class') <- 'foo'

# check the values below
attr(x, 'class')
class(x)
otype(x) # in pryr package
```

```
a <- list(name="", id=1)
class(a) <- "Book"
```

## Create a s3 object via structure() function
```
y <- structure(2, class="Book")
attr(y, 'class')
class(y)
otype(y)
```

# Generic functions
```
methods(print)

a <- structure(list(name="Item", id=1), class="Book")

print(a)

print.Book <- function(obj) {
    cat("id: ", obj$name, "\n")
    cat("name: ", obj$name, "\n")
}

print(a)
```

# attributes
```
attributes(a)

attr(a, 'price') <- 18

attributes(a)
```

# inheritance
```
# constructor
book <- function(id, name) {
    value <- list(name=name, id=id)
    attr(value, "class") <- "Book"
    value
}

# b <- book(2, "Thinking in cpp")

textbook <- list(name="Calculus", id=2, page_no=500)
print(textbook)

class(textbook) <- c("TextBook", "Book")
print(textbook)

print.TextBook <- function(obj) {
    cat(obj$name, " has ", obj$page_no, " pages.")
}
print(textbook)
print(a)
```

